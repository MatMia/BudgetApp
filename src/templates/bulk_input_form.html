{% extends "base.html" %}

{% block head %}
    {{ super() }}

            {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class=flashes>
            {% for message in messages %}
            {{ message }}
            {% endfor %}
            </ul>
        {% endif %}
        {% endwith %}
{% endblock %}


{% block content %}
        
   <hr class="text-danger border-2 opacity-50">

   <h2>Upload Alior statement in XLS</h2>
   
   <form action="" method=post enctype=multipart/form-data><p>
    <input type=file name=xls_file>
    <input type=submit name='submit_xls' value=upload  onclick="changeStyleOnLoad()">
    </form>

    <button class="btn btn-secondary" type="button" style="display: none" id="loading_form">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Uploading file...
      </button>

      <script>
        function changeStyleOnLoad(){
            var element = document.getElementById("loading_form");
            element.style.display = "";
            document.addEventListener('DOMContentLoaded', () => {
                var element = document.getElementById("loading_form");
                element.style.display = "none";
            });
        }
        </script>

   
{% endblock %}
